[{"line":1,"elements":[{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"configure retry = {count: 3, interval: 3000}","result":{"duration":33774600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":4},{"name":"def SQSManager = karate.callSingle('..\/acceptance\/test\/instances-sqs.js')","result":{"duration":128683000,"error_message":"js failed:\n>>>>\n01: karate.callSingle('..\/acceptance\/test\/instances-sqs.js')\n<<<<\norg.graalvm.polyglot.PolyglotException: java.io.FileNotFoundException: C:\\Users\\PC\\Desktop\\cobre\\prueba-tecnica-cobre\\target\\test-classes\\acceptance\\test\\..\\acceptance\\test\\instances-sqs.js (El sistema no puede encontrar la ruta especificada)\n- com.intuit.karate.resource.FileResource.getStream(FileResource.java:98)\n- com.intuit.karate.core.ScenarioFileReader.readFileAsStream(ScenarioFileReader.java:99)\n- com.intuit.karate.core.ScenarioFileReader.readFileAsString(ScenarioFileReader.java:95)\n- com.intuit.karate.core.ScenarioFileReader.readFile(ScenarioFileReader.java:58)\n- com.intuit.karate.core.ScenarioBridge.read(ScenarioBridge.java:718)\n- com.intuit.karate.core.ScenarioBridge.callSingle(ScenarioBridge.java:226)\n- com.intuit.karate.core.ScenarioBridge.callSingle(ScenarioBridge.java:183)\n\nclasspath:acceptance\/test\/prueba-tecnica-refactor.feature:5","status":"failed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"16:40:49.716 >> lock acquired, begin callSingle: ..\/acceptance\/test\/instances-sqs.js\n16:40:49.726 classpath:acceptance\/test\/prueba-tecnica-refactor.feature:5\n* def SQSManager = karate.callSingle('..\/acceptance\/test\/instances-sqs.js')\njs failed:\n>>>>\n01: karate.callSingle('..\/acceptance\/test\/instances-sqs.js')\n<<<<\norg.graalvm.polyglot.PolyglotException: java.io.FileNotFoundException: C:\\Users\\PC\\Desktop\\cobre\\prueba-tecnica-cobre\\target\\test-classes\\acceptance\\test\\..\\acceptance\\test\\instances-sqs.js (El sistema no puede encontrar la ruta especificada)\n- com.intuit.karate.resource.FileResource.getStream(FileResource.java:98)\n- com.intuit.karate.core.ScenarioFileReader.readFileAsStream(ScenarioFileReader.java:99)\n- com.intuit.karate.core.ScenarioFileReader.readFileAsString(ScenarioFileReader.java:95)\n- com.intuit.karate.core.ScenarioFileReader.readFile(ScenarioFileReader.java:58)\n- com.intuit.karate.core.ScenarioBridge.read(ScenarioBridge.java:718)\n- com.intuit.karate.core.ScenarioBridge.callSingle(ScenarioBridge.java:226)\n- com.intuit.karate.core.ScenarioBridge.callSingle(ScenarioBridge.java:183)\n\nclasspath:acceptance\/test\/prueba-tecnica-refactor.feature:5\n","line":5}},{"name":"def uuid = java.util.UUID.randomUUID().toString()","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def fileExtension = \".csv\"","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def bucketName = 'test-automation-qa'","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def folderRecaudoFiles = 'files-to-cash-in'","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9}]},{"start_timestamp":"2025-07-12T21:40:49.549Z","line":72,"name":"Dado que se carga un archivo de recaudo con datos correctamente con usuarios que recibirán un link de pago, al procesarse el archivo se persisten en BD los recaudo creados exitosamente","description":"","id":"dado-que-se-carga-un-archivo-de-recaudo-con-datos-correctamente-con-usuarios-que-recibirán-un-link-de-pago,-al-procesarse-el-archivo-se-persisten-en-bd-los-recaudo-creados-exitosamente","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"def result = call read('classpath:acceptance\/test\/resources\/utils\/utils.feature')","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":13,"doc_string":{"content_type":"","value":"{\ncurrentFilePath: 'src\/test\/java\/acceptance\/test\/',\ncurrentFileName: 'recaudoTemplateDatosCorrectos.csv',\nnewPathNewFile: 'src\/test\/resources\/testFilesToUse\/',\nuuid: '#(uuid)',\nfileExtension: '#(fileExtension)',\nbucketName: '#(bucketName)',\nfolderRecaudoFiles: '#(folderRecaudoFiles)'\n}","line":13}},{"name":"def fullFileName = result.fullFileName","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":25},{"result":{"duration":0,"status":"skipped"},"comments":["# --------------------------------------------------------------- #"],"line":27,"name":"def variableMapToReplaceInQueueMessageBody =","match":{"location":"karate","arguments":[]},"keyword":"*","doc_string":{"content_type":"","value":"{\n\"fileName\": '#(fullFileName)',\n\"workplacebankCode\": 'TEST01',\n\"bucketName\": '#(bucketName)'\n}","line":27}},{"name":"SQSManager.sendMessageToQueue('queueEvent.json', 'testing-recaudo-qa.fifo', variableMapToReplaceInQueueMessageBody, 'src\/test\/java\/acceptance\/test\/')","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35},{"name":"waitTime(8)","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36},{"name":"url 'https:\/\/test-container-qa.prueba.co\/v1\/entity\/novelties\/'+noveltyUuid+''","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"comments":["# --------------------------------------------------------------- #","# Uso de API REST para obtener información de las novedades"],"keyword":"Given","line":40},{"name":"header X-WorkplaceBankCode = 'TEST01'","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":41},{"name":"retry until responseStatus == 200 && response.cashInNovelty.status == status && response.cashInNoveltyDetailsCounters.total == total","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":42},{"name":"method get","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":43},{"name":"status 200","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":44},{"name":"def totalAmount = response.cashInNovelty.totalAmount","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45},{"name":"def status = response.cashInNovelty.status","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":46},{"name":"def totalNovelties = response.cashInNoveltyDetailsCounters.total","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":47},{"name":"def validationError = response.cashInNoveltyDetailsCounters.validationError","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":48},{"name":"def created = response.cashInNoveltyDetailsCounters.created#    * match totalAmount == '<>'","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":49},{"name":"match getNovelty.status == 'VALIDATED'","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":50},{"name":"match getNovelty.totalNovelties == '3'","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":51},{"name":"match getNovelty.validationError == '0'","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":52},{"name":"match getNovelty.created == '3'","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":53},{"name":"waitTime(3)","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":54},{"name":"def dataWithExpectedInformation = karate.read(\"classpath:acceptance\/test\/\" + 'respuestaEsperadaDatosCorrectos.json')","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"comments":["# --------------------------------------------------------------- #","# Uso de API REST para obtener información de las novelty-details"],"keyword":"*","line":58},{"name":"def pageInt = parseInt('1')","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":59},{"name":"def sizeInt = parseInt('3')","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":60},{"name":"url 'https:\/\/test-container-qa.prueba.co\/v1\/entity\/novelties\/'+noveltyUuid+''+'\/novelty-details'","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":61},{"name":"header X-WorkplaceBankCode = 'TEST01'","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":62},{"name":"params {page: '0', size: '100'}","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":63},{"name":"retry until responseStatus == 200 && response.content != []","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":64},{"name":"method get","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":65},{"name":"status 200","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":66},{"name":"def content = response.content","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":67},{"name":"match getNoveltyDetails.content contains deep dataWithExpectedInformation","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":68}],"tags":[{"name":"@regression","line":11}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"configure retry = {count: 3, interval: 3000}","result":{"duration":234300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":4},{"name":"def SQSManager = karate.callSingle('..\/acceptance\/test\/instances-sqs.js')","result":{"duration":2865800,"error_message":"js failed:\n>>>>\n01: karate.callSingle('..\/acceptance\/test\/instances-sqs.js')\n<<<<\norg.graalvm.polyglot.PolyglotException: java.io.FileNotFoundException: C:\\Users\\PC\\Desktop\\cobre\\prueba-tecnica-cobre\\target\\test-classes\\acceptance\\test\\..\\acceptance\\test\\instances-sqs.js (El sistema no puede encontrar la ruta especificada)\n- com.intuit.karate.resource.FileResource.getStream(FileResource.java:98)\n- com.intuit.karate.core.ScenarioFileReader.readFileAsStream(ScenarioFileReader.java:99)\n- com.intuit.karate.core.ScenarioFileReader.readFileAsString(ScenarioFileReader.java:95)\n- com.intuit.karate.core.ScenarioFileReader.readFile(ScenarioFileReader.java:58)\n- com.intuit.karate.core.ScenarioBridge.read(ScenarioBridge.java:718)\n- com.intuit.karate.core.ScenarioBridge.callSingle(ScenarioBridge.java:226)\n- com.intuit.karate.core.ScenarioBridge.callSingle(ScenarioBridge.java:183)\n\nclasspath:acceptance\/test\/prueba-tecnica-refactor.feature:5","status":"failed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"16:40:49.737 >> lock acquired, begin callSingle: ..\/acceptance\/test\/instances-sqs.js\n16:40:49.740 classpath:acceptance\/test\/prueba-tecnica-refactor.feature:5\n* def SQSManager = karate.callSingle('..\/acceptance\/test\/instances-sqs.js')\njs failed:\n>>>>\n01: karate.callSingle('..\/acceptance\/test\/instances-sqs.js')\n<<<<\norg.graalvm.polyglot.PolyglotException: java.io.FileNotFoundException: C:\\Users\\PC\\Desktop\\cobre\\prueba-tecnica-cobre\\target\\test-classes\\acceptance\\test\\..\\acceptance\\test\\instances-sqs.js (El sistema no puede encontrar la ruta especificada)\n- com.intuit.karate.resource.FileResource.getStream(FileResource.java:98)\n- com.intuit.karate.core.ScenarioFileReader.readFileAsStream(ScenarioFileReader.java:99)\n- com.intuit.karate.core.ScenarioFileReader.readFileAsString(ScenarioFileReader.java:95)\n- com.intuit.karate.core.ScenarioFileReader.readFile(ScenarioFileReader.java:58)\n- com.intuit.karate.core.ScenarioBridge.read(ScenarioBridge.java:718)\n- com.intuit.karate.core.ScenarioBridge.callSingle(ScenarioBridge.java:226)\n- com.intuit.karate.core.ScenarioBridge.callSingle(ScenarioBridge.java:183)\n\nclasspath:acceptance\/test\/prueba-tecnica-refactor.feature:5\n","line":5}},{"name":"def uuid = java.util.UUID.randomUUID().toString()","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def fileExtension = \".csv\"","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def bucketName = 'test-automation-qa'","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def folderRecaudoFiles = 'files-to-cash-in'","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9}]},{"start_timestamp":"2025-07-12T21:40:49.737Z","line":139,"name":"Dado que se carga un archivo de recaudo con datos que contienen caracteres especiales, al procesarse el archivo se verificará la información y se persistirán en BD con el detalle del error","description":"","id":"dado-que-se-carga-un-archivo-de-recaudo-con-datos-que-contienen-caracteres-especiales,-al-procesarse-el-archivo-se-verificará-la-información-y-se-persistirán-en-bd-con-el-detalle-del-error","type":"scenario","keyword":"Scenario Outline","steps":[{"result":{"duration":0,"status":"skipped"},"comments":["#* def CsvModifierUtil = Java.type('co.cobre.lib.qa.utils.csv_modifier')","#* def modified = CsvModifierUtil.modifyExpirationDate(filePath)","#* match modified == true"],"line":80,"name":"def result = call read('classpath:acceptance\/test\/resources\/utils\/utils.feature')","match":{"location":"karate","arguments":[]},"keyword":"*","doc_string":{"content_type":"","value":"{\ncurrentFilePath: 'src\/test\/java\/acceptance\/test\/',\ncurrentFileName: 'recaudoTemplateCaracteresEspeciales.csv',\nnewPathNewFile: 'src\/test\/resources\/testFilesToUse\/',\nuuid: '#(uuid)',\nfileExtension: '#(fileExtension)',\nbucketName: '#(bucketName)',\nfolderRecaudoFiles: '#(folderRecaudoFiles)'\n}","line":80}},{"name":"def fullFileName = result.fullFileName","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":92},{"result":{"duration":0,"status":"skipped"},"comments":["# --------------------------------------------------------------- #"],"line":94,"name":"def variableMapToReplaceInQueueMessageBody =","match":{"location":"karate","arguments":[]},"keyword":"*","doc_string":{"content_type":"","value":"{\n\"fileName\": '#(fullFileName)',\n\"workplacebankCode\": 'TEST01',\n\"bucketName\": '#(bucketName)'\n}","line":94}},{"name":"SQSManager.sendMessageToQueue('queueEvent.json', 'testing-recaudo-qa.fifo', variableMapToReplaceInQueueMessageBody, 'src\/test\/java\/acceptance\/test\/')","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":102},{"name":"waitTime(8)","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":103},{"name":"url 'https:\/\/test-container-qa.prueba.co\/v1\/entity\/novelties\/'+noveltyUuid+''","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"comments":["# --------------------------------------------------------------- #","# Uso de API REST para obtener información de las novedades"],"keyword":"Given","line":107},{"name":"header X-WorkplaceBankCode = 'TEST01'","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":108},{"name":"retry until responseStatus == 200 && response.cashInNovelty.status == status && response.cashInNoveltyDetailsCounters.total == total","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":109},{"name":"method get","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":110},{"name":"status 200","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":111},{"name":"def totalAmount = response.cashInNovelty.totalAmount","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":112},{"name":"def status = response.cashInNovelty.status","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":113},{"name":"def totalNovelties = response.cashInNoveltyDetailsCounters.total","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":114},{"name":"def validationError = response.cashInNoveltyDetailsCounters.validationError","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":115},{"name":"def created = response.cashInNoveltyDetailsCounters.created#    * match totalAmount == '<>'","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":116},{"name":"match getNovelty.status == 'VALIDATED'","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":117},{"name":"match getNovelty.totalNovelties == '2'","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":118},{"name":"match getNovelty.validationError == '2'","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":119},{"name":"match getNovelty.created == '0'","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":120},{"name":"waitTime(3)","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":121},{"name":"def dataWithExpectedInformation = karate.read(\"classpath:acceptance\/test\/\" + 'respuestaEsperadaCaracteresEspeciales.json')","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"comments":["# --------------------------------------------------------------- #","# Uso de API REST para obtener información de las novelty-details"],"keyword":"*","line":125},{"name":"def pageInt = parseInt('1')","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":126},{"name":"def sizeInt = parseInt('2')","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":127},{"name":"url 'https:\/\/test-container-qa.prueba.co\/v1\/entity\/novelties\/'+noveltyUuid+''+'\/novelty-details'","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":128},{"name":"header X-WorkplaceBankCode = 'TEST01'","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":129},{"name":"params {page: '0', size: '100'}","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":130},{"name":"retry until responseStatus == 200 && response.content != []","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":131},{"name":"method get","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":132},{"name":"status 200","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":133},{"name":"def content = response.content","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":134},{"name":"match getNoveltyDetails.content contains deep dataWithExpectedInformation","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":135}],"tags":[{"name":"@regression","line":74}]}],"name":"acceptance\/test\/prueba-tecnica-refactor.feature","description":"sample karate test script","id":"sample-karate-test-script","keyword":"Feature","uri":"acceptance\/test\/prueba-tecnica-refactor.feature"}]